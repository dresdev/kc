class NavigationConfig{static getConfig(){var t="undefined"!=typeof NAVIGATION_CONFIG?NAVIGATION_CONFIG:this.getDefaultConfig(),i=localStorage.getItem("navigationConfig");if(i)try{var e=JSON.parse(i);return{...t,...e}}catch(t){console.warn("Error parsing navigation config from localStorage:",t)}return this.saveConfig(t),t}static getDefaultConfig(){return{homeUrl:"go:home",searchUrl:"go:BUSCAR",libraryUrl:"go:LIBRERIA",settingsUrl:"go:OPCIONES",labels:{home:"Inicio",search:"Buscar",library:"Biblioteca",settings:"Configuración"},icons:{home:"home",search:"search",library:"video_library",settings:"settings"},enabled:!0}}static saveConfig(t){try{localStorage.setItem("navigationConfig",JSON.stringify(t)),console.log("✅ Configuración de navegación guardada:",t)}catch(t){console.error("Error saving navigation config to localStorage:",t)}}static updateUrls(t){t={...this.getConfig(),...t};return this.saveConfig(t),t}static updateLabels(t){var i=this.getConfig(),i={...i,labels:{...i.labels,...t}};return this.saveConfig(i),i}static updateIcons(t){var i=this.getConfig(),i={...i,icons:{...i.icons,...t}};return this.saveConfig(i),i}}class BottomNavigation{constructor(){this.config=NavigationConfig.getConfig(),this.navigationElement=document.getElementById("bottomNavigation"),this.init()}init(){this.config.enabled?(this.createNavigation(),this.attachEventListeners(),this.setActiveNavItem()):this.hideNavigation()}createNavigation(){this.navigationElement&&(this.navigationElement.innerHTML="",("undefined"!=typeof NAV_ITEMS?NAV_ITEMS:[{id:"homeNavItem",key:"home",isActive:!0},{id:"searchNavItem",key:"search",isActive:!1},{id:"libraryNavItem",key:"library",isActive:!1},{id:"settingsNavItem",key:"settings",isActive:!1}]).forEach(t=>{t=this.createNavItem(t);this.navigationElement.appendChild(t)}))}createNavItem({id:t,key:i,isActive:e}){var a=this.config[i+"Url"]||"#!",o=this.config.labels[i]||"",i=this.config.icons[i]||"home",n=document.createElement("a");return n.href=a,n.className="bottom-nav-item"+(e?" active":""),n.id=t,n.innerHTML=`
      <span class="material-symbols-outlined bottom-nav-icon">${i}</span>
      <span class="bottom-nav-text">${o}</span>
    `,n}attachEventListeners(){const e=document.querySelectorAll(".bottom-nav-item");e.forEach(i=>{i.addEventListener("click",t=>{t.preventDefault(),e.forEach(t=>t.classList.remove("active")),i.classList.add("active");t=i.getAttribute("href");this.navigateTo(t,i)})})}navigateTo(t,i){if(console.log("🚀 Navegando a:",t),t.startsWith("go:")){var e=t.replace("go:","");switch(console.log("📱 Ejecutando comando: go:"+e),e){case"home":console.log("🏠 Navegando a inicio");break;case"BUSCAR":console.log("🔍 Abriendo página de búsqueda");break;case"LIBRERIA":console.log("📚 Abriendo biblioteca");break;case"OPCIONES":console.log("⚙️ Abriendo configuración");break;default:console.log("🎯 Navegando a: "+e)}window.location.href=t}else if("#!"===t||"#"===t)console.log("🏠 Ya estás en la página de inicio");else if(t.startsWith("/"))console.log("🌐 Navegación web estándar a: "+t),window.location.href=t;else if(t.startsWith("http"))return console.log("🔗 Abriendo enlace externo: "+t),void window.open(t,"_blank");i.style.transform="scale(0.95)",setTimeout(()=>{i.style.transform=""},150)}setActiveNavItem(){document.querySelectorAll(".bottom-nav-item").forEach(t=>t.classList.remove("active"));var t=document.getElementById("homeNavItem");t&&t.classList.add("active")}hideNavigation(){this.navigationElement&&(this.navigationElement.style.display="none",document.body.style.paddingBottom="0")}updateConfig(t){this.config={...this.config,...t},NavigationConfig.saveConfig(this.config),this.createNavigation(),this.attachEventListeners(),this.setActiveNavItem()}show(){this.config.enabled=!0,NavigationConfig.saveConfig(this.config),this.navigationElement&&(this.navigationElement.style.display="block",document.body.style.paddingBottom="70px")}hide(){this.config.enabled=!1,NavigationConfig.saveConfig(this.config),this.hideNavigation()}}window.configureNavigation={urls:t=>{t=NavigationConfig.updateUrls(t);return window.bottomNavigation&&window.bottomNavigation.updateConfig(t),t},labels:t=>{t=NavigationConfig.updateLabels(t);return window.bottomNavigation&&window.bottomNavigation.updateConfig(t),t},icons:t=>{t=NavigationConfig.updateIcons(t);return window.bottomNavigation&&window.bottomNavigation.updateConfig(t),t},get:()=>NavigationConfig.getConfig(),reset:()=>{var t=NavigationConfig.getDefaultConfig();return NavigationConfig.saveConfig(t),window.bottomNavigation&&window.bottomNavigation.updateConfig(t),t}};